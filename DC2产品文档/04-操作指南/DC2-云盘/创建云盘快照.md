##背景信息

快照作为一种便捷高效的数据保护服务手段，推荐应用于以下业务场景中：

- 系统盘、数据盘的日常备份，您可以利用快照定期的对重要业务数据进行备份，来应对误操作、攻击、病毒等导致的数据丢失风险。
- 更换操作系统，应用软件升级或业务数据迁移等重大操作前，您可以创建一份或多份数据快照，一旦升级、迁移过程中出现任何问题，可以通过数据快照及时恢复到正常的系统数据状态。
- 生产数据的多副本应用，用户可以通过对生产数据创建快照，从而为数据挖掘、报表查询、开发测试等应用提供近实时的真实生产数据。

##主要类别

快照可以分为DC2实例快照和EBS云盘快照：

* DC2实例快照，实际上即为DC2系统盘快照，用来备份系统根盘数据。

* 您也可以为EBS云盘创建快照，用于备份保存EBS云盘在某一时刻的数据。EBS云盘快照是增量快照，同一个云盘的多个快照构成一条快照链。你可以删除一条快照链上的任意一个快照，而不会影响其他快照的数据。

  

您可参见本文完成对数据盘快照操作 。

##创建EBS云盘快照

您可以对已经挂载到DC2实例上正在使用中的EBS云盘做快照。需要指出的是，快照仅保存快照操作的那一刹那已经持久化到EBS云盘上的数据。在快照时刻处于操作系统缓存、未落盘的数据则很可能不会保存到快照。因此，快照不一定能确保您的数据的完整性。如果需要确保数据完整性和强一致性，那么最好是停掉应用程序写入，并且将EBS卷从DC2实例上卸载掉再做快照，待快照后再挂载回来。

使用滴滴云控制台创建EBS数据盘快照的步骤：

1. 登陆到滴滴云控制台，切换Tab至“存储”，并选择“云盘（EBS）”，点击进入云盘列表页；

2. 选择需要快照的目标云盘，在右边的操作选项中选择“创建快照”，进入创建快照页面；

3. 在创建快照页面，您可以编辑修改快照名（默认的快照命名规则为“EBS云盘名”加日期后缀）；

4. 点击确认创建后，将出现创建快照进度条，待快照创建成功后您就可以看到新创建的快照详情；

##查看EBS云盘快照详细信息

同一个EBS盘的所有快照构成一个快照链。要查看快照链详情，可以按如下步骤操作：

1. 登陆到滴滴云控制台，切换至“计算”Tab，选择”快照“点击进入；

2. 快照链基本信息包括快照链名称、所在区域、总容量、快照数量以及源EBS盘等；

3. 在快照链列表页，可以选择某个快照链，点击进入以查看该快照链下面所有快照的列表

##使用EBS云盘快照

使用EBS云盘快照，我们可以将EBS云盘数据回滚到创建快照时刻的状态，或者用于快速创建出EBS云盘。

举个例子，假如您准备在一个挂载有EBS云盘的DC2实例上进行某些重大的升级或变更操作，这个操作有一定风险，可能导致数据不可恢复地丢失或损坏；那么，在进行这类操作之前，您可以先对这些EBS云盘打快照做一个快速的备份。如果该升级变更操作造成了EBS云盘上存储的数据损坏或丢失，您可以方便地使用快照回滚到快照时刻的数据状态。

要使用EBS云盘快照恢复云盘至快照时刻状态，您只需要在该快照的详情页面上，在右边的操作选项中选择“还原”，点击确认即可。

云盘快照的另外一个应用场景，在于快速创建出与该快照数据相同的新的云盘。例如，我们需要部署50台某应用程序的DC2实例。那么，我们只需要先创建出一个DC2实例并挂载好EBS云盘，在此实例的EBS云盘上安装部署好应用程序，然后对该云盘进行快照备份。随后，我们再使用该快照创建出其他49个云盘，最后再将这些云盘分别挂载到其他DC2实例上。

要使用EBS云盘快照创建云盘，您只需要在该快照的详情页面上，在右边的操作选项中选择“创建云磁盘”，点击确认即跳转到云磁盘创建页面，设置好您的云盘信息，点击确认创建即可。

##删除EBS云盘快照

删除一个EBS快照链上的一个快照时，只有被删除那个快照独有的数据被丢弃，快照链上其他的快照数据不会受到影响。删除一个快照链上较早创建的快照，后面创建的快照功能不受影响。举个例子，假如您对一个EBS云盘先后做了三次快照，三次快照分别为snapshot-1、snapshot-2和snapshot-3；那么我们删除snapshot-1后，使用snapshot-2或snapshot-3仍可以创建出EBS云盘，可以回滚EBS云盘至快照时刻状态。

删除云盘快照不会对云盘本身造成任何影响，同样，删除云盘也不会对由该云盘生成的云盘快照造成任何影响。

使用滴滴云控制台删除EBS云盘快照的步骤：

1. 登陆到滴滴云控制台，切换Tab至“计算”，并选择“快照”，点击进入快照（快照链）列表页。

2. 选择需要删除快照所在的快照链，点击进入快照链详情页面。

3. 选择需要删除的快照，在右边的操作选项中选择“删除快照”，点击确认后快照即被删除。